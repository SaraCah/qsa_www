The following digital copy order was received and payed for via the QGov SSQ.

The order was placed by <%= @data.dig('user', 'first_name') %> <%= @data.dig('user', 'last_name') %> (<%= @data.dig('user', 'email') %>).

Details from QGov SSQ:

Generated Order Number: <%= @data.fetch('generated_order_id') %>

Customer Details:<% ASUtils.wrap(@data.dig('order_summary', 'customer_detail')).each do |customer_details| %>
  * <%= customer_details.fetch('@type') %>:<% ASUtils.wrap(customer_details.fetch('detail')).each do |detail| next unless detail.is_a?(String) %>
      <%= detail %><% end %><% end %>

Delivery Details:<% ASUtils.wrap(@data.dig('order_summary', 'delivery_address')).each do |delivery_details| %>
  * <%= delivery_details.fetch('@type') %>:<% ASUtils.wrap(delivery_details.fetch('detail')).each do |detail| next unless detail.is_a?(String) %>
       <%= detail %><% end %><% end %>

Order Details:<% ASUtils.wrap(@data.dig('order_summary', 'order', 'orderline')).each do |orderline| %>
  * <%= orderline.dig('product', '@title') %>
    Ref: <%= orderline.dig('product', '@ref') %>
    Cost: <%= "$%0.2f" % [orderline.dig('product', '@cost').to_f / 100] %>
    Qty: <%= orderline.dig('@quantity') %><% end %>
